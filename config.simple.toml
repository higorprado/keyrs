# keyrs Simple Configuration
#
# A complete, minimal configuration for users who prefer a single file.
# Copy this to ~/.config/keyrs/config.toml and customize as needed.
#
# For modular configs, use config.d.example/minimal/ instead.
#
# See docs/CONFIG_SYNTAX_REFERENCE.md for full documentation.

[general]
# F11 suspends all key remapping (hold for 1 second)
suspend_key = "F11"

[timeouts]
# Hold duration for multipurpose keys (milliseconds)
multipurpose = 200
# Hold duration for suspend_key
suspend = 1000

# ============================================================
# MULTI-PURPOSE KEYS
# ============================================================
# Keys that behave differently on tap vs hold.
# Requires corresponding settings in settings.toml.

# Enter: tap=Enter, hold=Right Ctrl (for Cmd simulation)
[[multipurpose]]
name = "enter_to_ctrl"
trigger = "ENTER"
tap = "ENTER"
hold = "RIGHT_CTRL"
condition = "settings.Enter2Ent_Cmd"

# Caps Lock: tap=Escape, hold=Right Ctrl
[[multipurpose]]
name = "caps_to_esc"
trigger = "CAPSLOCK"
tap = "ESCAPE"
hold = "RIGHT_CTRL"
condition = "settings.Caps2Esc_Cmd and not (keyboard_type =~ 'Chromebook')"

# ============================================================
# DEFAULT MODMAP
# ============================================================

[modmap.default]
CAPSLOCK = "CAPSLOCK"

# ============================================================
# CONDITIONAL MODMAPS
# ============================================================

# Numpad as regular number keys (for compact keyboards)
[[modmap.conditionals]]
name = "forced_numpad"
condition = "settings.forced_numpad"
mappings = { KP1 = "KEY_1", KP2 = "KEY_2", KP3 = "KEY_3", KP4 = "KEY_4", KP5 = "KEY_5", KP6 = "KEY_6", KP7 = "KEY_7", KP8 = "KEY_8", KP9 = "KEY_9", KP0 = "KEY_0", KPDOT = "DOT", KPENTER = "ENTER" }

# Numpad navigation when NumLock is off
[[modmap.conditionals]]
name = "numpad_nav"
condition = "not settings.forced_numpad and not numlk"
mappings = { KP9 = "PAGE_UP", KP3 = "PAGE_DOWN", KP7 = "HOME", KP1 = "END", KP8 = "UP", KP2 = "DOWN", KP4 = "LEFT", KP6 = "RIGHT", KP0 = "INSERT", KPDOT = "DELETE", KPENTER = "ENTER" }

# ============================================================
# KEYMAPS - Terminal Shortcuts
# ============================================================
# Terminals use Ctrl+Shift for clipboard operations.

[[keymap]]
name = "terminal_shortcuts"
condition = "wm_class =~ '(?i)alacritty|kitty|wezterm|gnome-terminal|konsole|xfce4-terminal|ghostty'"

[keymap.mappings]
"Super-c" = "Ctrl-Shift-c"
"Super-v" = "Ctrl-Shift-v"
"Super-w" = "Ctrl-Shift-w"
"Super-t" = "Ctrl-Shift-t"
"Super-n" = "Ctrl-Shift-n"
"Super-f" = "Ctrl-Shift-f"
"Super-minus" = "Ctrl-minus"
"Super-equal" = "Ctrl-Shift-equal"
"Super-dot" = "Ctrl-c"
"Alt-Backspace" = "Ctrl-w"
"Super-Backspace" = "Ctrl-u"
"Super-Delete" = "Ctrl-k"

# ============================================================
# KEYMAPS - File Managers
# ============================================================

[[keymap]]
name = "file_manager"
condition = "wm_class =~ '(?i)nautilus|dolphin|thunar|nemo|pcmanfm'"

[keymap.mappings]
"Super-Left" = "Alt-Left"
"Super-Right" = "Alt-Right"
"Super-Up" = "Alt-Up"
"Super-l" = "Ctrl-l"
"Super-f" = "Ctrl-f"
"Super-Backspace" = "Delete"

# ============================================================
# KEYMAPS - Fallback (GUI Apps)
# ============================================================
# These apply when no app-specific keymap matches.
# Maps Super (Cmd) to Ctrl for macOS-like behavior.

[[keymap]]
name = "gui_fallback"
condition = "not (wm_class =~ '(?i)alacritty|kitty|wezterm|gnome-terminal|konsole|xfce4-terminal|ghostty|jetbrains')"

[keymap.mappings]
"Super-a" = "Ctrl-a"
"Super-c" = "Ctrl-c"
"Super-d" = "Ctrl-d"
"Super-f" = "Ctrl-f"
"Super-h" = "Ctrl-h"
"Super-l" = "Ctrl-l"
"Super-n" = "Ctrl-n"
"Super-o" = "Ctrl-o"
"Super-p" = "Ctrl-p"
"Super-q" = "Ctrl-q"
"Super-r" = "Ctrl-r"
"Super-s" = "Ctrl-s"
"Super-t" = "Ctrl-t"
"Super-v" = "Ctrl-v"
"Super-w" = "Ctrl-w"
"Super-x" = "Ctrl-x"
"Super-y" = "Ctrl-y"
"Super-z" = "Ctrl-z"
"Super-backspace" = "Ctrl-Backspace"
"Super-delete" = "Ctrl-Delete"
"Super-left" = "Ctrl-left"
"Super-right" = "Ctrl-right"

# ============================================================
# KEYMAPS - Navigation (All Apps Except Terminals)
# ============================================================

[[keymap]]
name = "gui_navigation"
condition = "not (wm_class =~ '(?i)alacritty|kitty|wezterm|gnome-terminal|konsole|xfce4-terminal|ghostty')"

[keymap.mappings]
"Super-a" = "Home"
"Super-e" = "End"
"Super-b" = "Left"
"Super-f" = "Right"
"Super-n" = "Down"
"Super-p" = "Up"
"Super-k" = ["Shift-End", "Backspace"]
"Super-d" = "Delete"
"Ctrl-Left" = "Home"
"Ctrl-Right" = "End"
"Ctrl-Up" = "Ctrl-Home"
"Ctrl-Down" = "Ctrl-End"
"Shift-Ctrl-Left" = "Shift-Home"
"Shift-Ctrl-Right" = "Shift-End"
"Super-Tab" = ["bind", "Combo(Alt-Tab)"]
"Shift-Super-Tab" = ["bind", "Combo(Shift-Alt-Tab)"]
